{"version":3,"sources":["components/Modal/Modal.jsx","components/FavoriteCard/FavoriteCard.jsx","components/FavoriteWeather/FavoriteWeather.jsx","components/ChangeMode/ChangeMode.jsx","components/SavedCity/SavedCity.jsx","components/SearchCity/SearchCity.jsx","App.js","index.js"],"names":["Modal","weather","city","active","setActive","useEffect","handleKeyPress","e","keyCode","document","addEventListener","removeEventListener","handlerModalClose","weatherData","temp","feels_like","humidity","pressure","className","onClick","cashedData","localStorage","getItem","includes","setItem","addFavorite","FavoriteCard","data","cityName","Math","floor","FavoriteWeather","favoriteCity","apiKey","useState","resFavorite","setResFavorite","request","map","axios","Promise","all","then","responses","catch","res","console","log","length","obj","i","main","name","ChangeMode","changeMode","toggleChangeMode","checkedA","checkedB","state","setState","Switch","checked","onChange","event","target","inputProps","SavedCity","setData","savedCity","require","SearchCity","setCity","setWeather","modalActive","setModalActive","setFavoriteCity","setChangeMode","cityRes","setCityRes","favoriteCities","citiesArr","slice","split","type","value","onKeyPress","key","get","blur","placeholder","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f795c641.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\n\r\nfunction Modal({weather, city, active, setActive}) {\r\n\r\n    const addFavorite = () => {\r\n        const cashedData = localStorage.getItem('favorite') || ''\r\n        if (!cashedData.includes(city)) {\r\n            localStorage.setItem(\"favorite\", cashedData + ' ' + city)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const handleKeyPress = (e) => {\r\n            if (e.keyCode === 27) {\r\n                setActive(false)\r\n            }\r\n        }\r\n\r\n        document.addEventListener('keydown', (e) => handleKeyPress(e))\r\n        return () => document.removeEventListener('keypress', (e) => handleKeyPress(e))\r\n\r\n    }, [])\r\n\r\n    const handlerModalClose = () => {\r\n        setActive(false)\r\n    }\r\n\r\n    const weatherData = {\r\n        temp: weather.temp,\r\n        feels_like: weather.feels_like,\r\n        humidity: weather.humidity,\r\n        pressure: weather.pressure\r\n    }\r\n\r\n    const {temp, feels_like, humidity, pressure} = weatherData;\r\n\r\n    return (\r\n        <div>\r\n            <div className={active ? \"modal active\" : \"modal\"} onClick={handlerModalClose}>\r\n                <div className=\"modal__content\">\r\n                    <div className=\"modal__content-close\" onClick={handlerModalClose}>x</div>\r\n                    <h2 className=\"modal__title\">{city}</h2>\r\n                    <div className=\"modal__text\">\r\n                        <div className=\"modal__content-temp\"><p>Температура</p>{temp}&#8451;</div>\r\n                        <div className=\"modal__content-feels\"><p>Ощущается как</p>{feels_like}&#8451;</div>\r\n                        <div className=\"modal__content-humidity\"><p>Влажность</p>{humidity}%</div>\r\n                        <div className=\"modal__content-pressure\"><p>Давление</p>{pressure}</div>\r\n                    </div>\r\n                    <div className=\"modal__add\" onClick={() => addFavorite()}>Добавить в избранное</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","function FavoriteCard({data, cityName}) {\r\n\r\n    return (\r\n        <div className=\"favoriteCard\">\r\n            <h3 className=\"favoriteCard__title\">{cityName}</h3>\r\n            <div className=\"favoriteCard__temp\">\r\n                {Math.floor(data.temp)}&#8451;\r\n            </div>\r\n            <div className=\"favoriteCard__content-feels\">\r\n                <p>Feels_like: </p><b>{Math.floor(data.feels_like)}&#8451;</b>\r\n            </div>\r\n            <div className=\"favoriteCard__content-humidity\">\r\n                <p>Humidity: </p><b>{data.humidity}%</b>\r\n            </div>\r\n            <div className=\"favoriteCard__content-pressure\">\r\n                <p>Pressure: </p><b>{data.pressure}</b>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FavoriteCard;","import React, {useState, useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport FavoriteCard from \"../FavoriteCard/FavoriteCard\";\r\n\r\nfunction FavoriteWeather({favoriteCity, apiKey, city}) {\r\n\r\n    const [resFavorite, setResFavorite] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (favoriteCity) {\r\n            let request = favoriteCity\r\n                .map(city => axios(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`)\r\n                )\r\n            Promise.all(request)\r\n                .then((responses) => {\r\n                    setResFavorite(responses)\r\n                })\r\n                .catch(res => console.log('ошибка запроса введите данные в формате EN:\"London\"'))\r\n        }\r\n    }, [favoriteCity])\r\n\r\n\r\n    return (\r\n        <div className=\"favoriteWeather\">\r\n            {resFavorite.length !== 0\r\n                ? resFavorite.map((obj, i) => {\r\n                        return (\r\n                            <FavoriteCard key={i + obj.data}\r\n                                          data={obj.data.main}\r\n                                          cityName={obj.data.name}\r\n                            />\r\n                        )\r\n                    }\r\n                ) : <div className=\"favoriteWeather__noData\">Данных в избранном нет.</div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default FavoriteWeather;\r\n","import React, {useState} from \"react\";\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nfunction ChangeMode({changeMode, toggleChangeMode}) {\r\n    const [state, setState] = useState({\r\n        checkedA: true,\r\n        checkedB: true,\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        setState({...state, [event.target.name]: event.target.checked});\r\n        toggleChangeMode()\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"changeMode\">Change mode:\r\n            <Switch\r\n                checked={state.checkedA}\r\n                onChange={handleChange}\r\n                name=\"checkedA\"\r\n                inputProps={{'aria-label': 'secondary checkbox'}}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChangeMode;","import FavoriteCard from \"../FavoriteCard/FavoriteCard\";\r\nimport axios from \"axios\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nfunction SavedCity({apiKey}) {\r\n    const [data, setData] = useState([])\r\n    const savedCity = require('../savedcities.json')\r\n\r\n    useEffect(() => {\r\n        if (savedCity) {\r\n            let request = savedCity\r\n                .map(city => axios(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`)\r\n                )\r\n            Promise.all(request)\r\n                .then((responses) => {\r\n                    setData(responses)\r\n                })\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"favoriteWeather\">\r\n            {data.map((obj, i) => <FavoriteCard key={i + obj.data}\r\n                                                data={obj.data.main}\r\n                                                cityName={obj.data.name}/>\r\n            )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SavedCity;","import {useState, useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport FavoriteWeather from \"../FavoriteWeather/FavoriteWeather\";\r\nimport ChangeMode from \"../ChangeMode/ChangeMode\";\r\nimport SavedCity from \"../SavedCity/SavedCity\";\r\n\r\nfunction SearchCity() {\r\n\r\n    const [city, setCity] = useState(\"\")\r\n    const [weather, setWeather] = useState({})\r\n    const [modalActive, setModalActive] = useState(false)\r\n    const [favoriteCity, setFavoriteCity] = useState([])\r\n    const [changeMode, setChangeMode] = useState(true)\r\n    const [cityRes, setCityRes] = useState(\"\")\r\n    const apiKey = \"432e0e516b136001af816e0e90e80ca2\"\r\n\r\n    const favoriteCities = localStorage.getItem('favorite')\r\n    const citiesArr = favoriteCities ? favoriteCities.slice(1).split(' ') : favoriteCities\r\n\r\n\r\n    useEffect(() => {\r\n        setFavoriteCity(citiesArr)\r\n    }, [])\r\n\r\n\r\n    const searchWeather = e => {\r\n        if (e.key === 'Enter') {\r\n            axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`)\r\n                .then(({data}) => {\r\n                    setWeather(data.main)\r\n                    setCityRes(data.name)\r\n                })\r\n            setModalActive(true)\r\n            e.target.blur()\r\n        }\r\n    }\r\n\r\n    const toggleChangeMode = () => {\r\n        setChangeMode(!changeMode);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"search-wrapper\">\r\n            <span className=\"search-label\">\r\n               Search City\r\n            </span>\r\n            <ChangeMode changeMode={setChangeMode} toggleChangeMode={toggleChangeMode}/>\r\n            <input type=\"text\" className=\"search-input\"\r\n                   value={city}\r\n                   onChange={(e) => setCity(e.target.value)}\r\n                   onKeyPress={searchWeather}\r\n                   placeholder='Enter the city. Example: London'/>\r\n            <Modal\r\n                weather={weather}\r\n                active={modalActive}\r\n                setActive={setModalActive}\r\n                city={cityRes}\r\n            />\r\n            {changeMode ?\r\n                <FavoriteWeather favoriteCity={favoriteCity} apiKey={apiKey} city={cityRes}/>\r\n                :\r\n                <SavedCity apiKey={apiKey}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchCity;","import SearchCity from \"./components/SearchCity/SearchCity\";\r\nimport './scss/app.scss';\r\n\r\nfunction App() {\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <h1 className=\"title\">\r\n                Weather App\r\n            </h1>\r\n            <SearchCity/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './scss/app.scss';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}