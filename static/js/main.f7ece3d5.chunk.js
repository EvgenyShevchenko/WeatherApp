(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{19:function(e,t,c){},52:function(e){e.exports=JSON.parse('["Peru","Moscow","Krasnodar","London","China"]')},53:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(6),r=c.n(n),s=c(3),i=c(1);var o=function(e){var t=e.weather,c=e.city,n=e.active,r=e.setActive,s=e.error;Object(a.useEffect)((function(){var e=function(e){27===e.keyCode&&r(!1)};return document.addEventListener("keydown",(function(t){return e(t)})),function(){return document.removeEventListener("keypress",(function(t){return e(t)}))}}),[]);var o=function(){r(!1)},l={temp:t.temp,feels_like:t.feels_like,humidity:t.humidity,pressure:t.pressure},j=l.temp,d=l.feels_like,u=l.humidity,b=l.pressure;return Object(i.jsx)("div",{children:s?Object(i.jsx)("div",{className:"modal__error",children:'"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"'}):Object(i.jsx)("div",{className:n?"modal active":"modal",onClick:o,children:Object(i.jsxs)("div",{className:"modal__content",children:[Object(i.jsx)("div",{className:"modal__content-close",onClick:o,children:"x"}),Object(i.jsx)("h2",{className:"modal__title",children:c}),Object(i.jsxs)("div",{className:"modal__text",children:[Object(i.jsxs)("div",{className:"modal__content-temp",children:[Object(i.jsx)("p",{children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),Object(i.jsxs)("b",{children:[Math.floor(j),"\u2103"]})]}),Object(i.jsxs)("div",{className:"modal__content-feels",children:[Object(i.jsx)("p",{children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a"}),Object(i.jsxs)("b",{children:[Math.floor(d),"\u2103"]})]}),Object(i.jsxs)("div",{className:"modal__content-humidity",children:[Object(i.jsx)("p",{children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(i.jsxs)("b",{children:[u,"%"]})]}),Object(i.jsxs)("div",{className:"modal__content-pressure",children:[Object(i.jsx)("p",{children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(i.jsx)("b",{children:b})]})]}),Object(i.jsx)("div",{className:"modal__add",onClick:function(){return function(){var e=localStorage.getItem("favorite")||"";e.includes(c)||localStorage.setItem("favorite",e+" "+c)}()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})})})};var l=function(e){var t=e.data,c=e.cityName;return Object(i.jsxs)("div",{className:"favoriteCard",children:[Object(i.jsx)("h3",{className:"favoriteCard__title",children:c}),Object(i.jsx)("div",{className:"favoriteCard__temp",children:Object(i.jsxs)("b",{children:[Math.floor(t.temp),"\u2103"]})}),Object(i.jsxs)("div",{className:"favoriteCard__content-feels",children:[Object(i.jsx)("p",{children:"Feels_like: "}),Object(i.jsxs)("b",{children:[Math.floor(t.feels_like),"\u2103"]})]}),Object(i.jsxs)("div",{className:"favoriteCard__content-humidity",children:[Object(i.jsx)("p",{children:"Humidity: "}),Object(i.jsxs)("b",{children:[t.humidity,"%"]})]}),Object(i.jsxs)("div",{className:"favoriteCard__content-pressure",children:[Object(i.jsx)("p",{children:"Pressure: "}),Object(i.jsx)("b",{children:t.pressure})]})]})},j=c(9),d=c.n(j),u=c(20),b=c(21),h=c.n(b).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),m=function(){var e=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"432e0e516b136001af816e0e90e80ca2",e.prev=1,e.next=4,h.get("weather?q=".concat(t,"&units=metric&appid=").concat("432e0e516b136001af816e0e90e80ca2"));case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(1),console.log("error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();var O=function(e){var t=e.favoriteCity,c=Object(a.useState)([]),n=Object(s.a)(c,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(t){var e=t.map((function(e){return m(e)}));Promise.all(e).then((function(e){o(e)}))}}),[t]),Object(i.jsx)("div",{className:"favoriteWeather",children:0!==r.length?r.map((function(e,t){return Object(i.jsx)(l,{data:e.main,cityName:e.name},t)})):Object(i.jsx)("div",{className:"favoriteWeather__noData",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e..."})})},f=c(7),v=c(10),p=c(69);var x=function(e){e.changeMode;var t=e.toggleChangeMode,c=Object(a.useState)({checkedA:!0,checkedB:!0}),n=Object(s.a)(c,2),r=n[0],o=n[1];return Object(i.jsxs)("div",{className:"changeMode",children:["Change mode:",Object(i.jsx)(p.a,{checked:r.checkedA,onChange:function(e){o(Object(v.a)(Object(v.a)({},r),{},Object(f.a)({},e.target.name,e.target.checked))),t()},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})]})};var _=function(e){e.apiKey;var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],o=n[1],j=c(52);return Object(a.useEffect)((function(){if(j){var e=j.map((function(e){return m(e)}));Promise.all(e).then((function(e){o(e)}))}}),[]),Object(i.jsx)("div",{className:"favoriteWeather",children:r.map((function(e,t){return Object(i.jsx)(l,{data:e.main,cityName:e.name},t)}))})};var N=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)({}),l=Object(s.a)(r,2),j=l[0],d=l[1],u=Object(a.useState)(!1),b=Object(s.a)(u,2),h=b[0],f=b[1],v=Object(a.useState)([]),p=Object(s.a)(v,2),N=p[0],y=p[1],g=Object(a.useState)(!0),k=Object(s.a)(g,2),C=k[0],S=k[1],w=Object(a.useState)(""),E=Object(s.a)(w,2),M=E[0],A=E[1],P=Object(a.useState)(!1),L=Object(s.a)(P,2),I=L[0],W=L[1],J=localStorage.getItem("favorite"),K=J?J.slice(1).split(" "):J;return Object(a.useEffect)((function(){y(K)}),[]),Object(i.jsxs)("div",{className:"search-wrapper",children:[Object(i.jsx)("span",{className:"search-label",children:"Search City"}),Object(i.jsx)(x,{changeMode:S,toggleChangeMode:function(){S(!C)}}),Object(i.jsx)("input",{type:"text",className:"search-input",value:c,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(m(c).then((function(e){e?(d(e.main),A(e.name)):W(!0)})),f(!0),e.target.blur())},placeholder:"Enter the city. Example: London"}),Object(i.jsx)(o,{weather:j,active:h,setActive:f,city:M,error:I}),C?Object(i.jsx)(O,{favoriteCity:N,city:M}):Object(i.jsx)(_,{})]})};c(19);var y=function(){return Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("h1",{className:"title",children:"Weather App"}),Object(i.jsx)(N,{})]})};r.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f7ece3d5.chunk.js.map